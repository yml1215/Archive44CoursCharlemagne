<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Archive44courscharlemagne</title>
  <link rel="stylesheet" href="/style/style_atelier.css" />
</head>

<body>
  <div class="header">
    <div class="logo">
      <a href="/main.html">
        <img src="/images/logo/adresse_1.png" alt="logo" /></a>
    </div>

  </div>

  <div class="container">
    <div id="photo_atelier">

      <img src="/images/photos/atelier.png" alt="atelier" />

      <div class="reflex button">
        <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path d="M24 16V32M16 24H32M44 24C44 35.0457 35.0457 44 24 44C12.9543 44 4 35.0457 4 24C4 12.9543 12.9543 4 24 4C35.0457 4 44 12.9543 44 24Z" stroke="#FF0000" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <img src="/images/reflex_blue.png" alt="reflex" class="reflex" />
        <!-- <img src="/animations/reflex.gif" alt="reflex" class="reflex" /> -->
        <div class="box_reflex"><a href="https://manufacture-errata.weebly.com"><svg class="arrow" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path d="M14 14L34 34M34 34V14M34 34H14" stroke="#0071DD" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>manufacture errata website</a></div>
      </div>

      <div class="radio button"><svg class ="icon" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path d="M24 16V32M16 24H32M44 24C44 35.0457 35.0457 44 24 44C12.9543 44 4 35.0457 4 24C4 12.9543 12.9543 4 24 4C35.0457 4 44 12.9543 44 24Z" stroke="#FF0000" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <img src="/images/radio_blue.png" alt="radio" class="radio" />
        <!-- <img src="/animations/radio.gif" alt="radio" class="radio" /> -->
        <div class="box_radio">
          <a href="https://soundcloud.com/manufacture-errata"><svg class="arrow" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path d="M14 14L34 34M34 34V14M34 34H14" stroke="#0071DD" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>manufacture errata(sound cloud)</a><br><br>
          <a href="https://manufactureerrata.bandcamp.com"><svg class="arrow" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path d="M14 14L34 34M34 34V14M34 34H14" stroke="#0071DD" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>manufacture errata(bandcamp)</a><br><br>
          <a href="https://souvenirsrecords.bandcamp.com"><svg class="arrow" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path d="M14 14L34 34M34 34V14M34 34H14" stroke="#0071DD" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>Souvenirs k7</a><br><br>
          <a href="https://errataprotocall.bandcamp.com"><svg class="arrow" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path d="M14 14L34 34M34 34V14M34 34H14" stroke="#0071DD" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>Concept-cassettes</a><br><br>
          <a href="https://erratac20series.bandcamp.com"><svg class="arrow" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path d="M14 14L34 34M34 34V14M34 34H14" stroke="#0071DD" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>errata 20 series</a></div>
      </div>

      <div class="tv button">
        <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path d="M24 16V32M16 24H32M44 24C44 35.0457 35.0457 44 24 44C12.9543 44 4 35.0457 4 24C4 12.9543 12.9543 4 24 4C35.0457 4 44 12.9543 44 24Z" stroke="#FF0000" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <img src="/images/tv.gif" alt="tv" class="tv" />
        <div class="box_tv">
          <a href="https://www.youtube.com/@erratatv9357/videos"><svg class="arrow" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path d="M14 14L34 34M34 34V14M34 34H14" stroke="#0071DD" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg> errata tv</a><br><br>
          <a href="https://www.youtube.com/@NUEVOMUNDOTELE1"><svg class="arrow" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path d="M14 14L34 34M34 34V14M34 34H14" stroke="#0071DD" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg> astrid luzard</a>
        </div>
      </div>

      <div class="bubble"><img src="/images/photos/canvas/IMG20221114100103.jpg" /></div>
      <div class="note"></div>

      <a class="entry-cuisine notice" href="/cuisine.html">
      <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
      <path d="M38 24H10M10 24L24 38M10 24L24 10" stroke="#FF0000" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg><br>cuisine</a>
      <!-- <div class="notice"></div> -->
    </div>
  </div>
  
  <div style="height: 100vw;"></div>

<script>
  window.addEventListener("load", () => {
    // 페이지 로딩 시 body 표시
    document.body.style.opacity = 1;

    // 각 버튼별 토글 함수
    const setupToggle = (triggerSelector, boxSelector) => {
      const trigger = document.querySelector(triggerSelector);
      const box = document.querySelector(boxSelector);
      if (trigger && box) {
        trigger.addEventListener("click", (e) => {
          e.stopPropagation();
          box.classList.toggle("show");
          console.log(`${triggerSelector} clicked, toggling ${boxSelector}`);
        });
      }
    };

    setupToggle(".reflex", ".box_reflex");
    setupToggle(".radio", ".box_radio");
    setupToggle(".tv", ".box_tv");

    // 메뉴 토글
    const menu = document.querySelector(".menu");
    const menuBox = document.querySelector(".menu-box");
    if (menu && menuBox) {
      menu.addEventListener("click", (e) => {
        e.stopPropagation();
        menu.classList.toggle("open");
        console.log("Menu clicked, toggling open");
      });
    }

    // 외부 클릭 시 모두 닫기
    document.addEventListener("click", () => {
      document.querySelector(".box_reflex")?.classList.remove("show");
      document.querySelector(".box_radio")?.classList.remove("show");
      document.querySelector(".box_tv")?.classList.remove("show");
      menu?.classList.remove("open");
      console.log("Document clicked, all boxes closed");
    });

    // #photo_atelier 스크롤에 따라 부드럽게 가로 이동
    const photoAtelier = document.getElementById("photo_atelier");
    const buttons = photoAtelier.querySelectorAll(".notice");

    const vw = window.innerWidth / 100;
    const maxScroll = 900;
    const maxTranslateVW = -79;

    let ticking = false;
    let lastScrollY = 0;

    window.addEventListener("scroll", () => {
      lastScrollY = window.scrollY || window.pageYOffset;

      if (!ticking) {
        window.requestAnimationFrame(() => {
          const ratio = Math.min(lastScrollY / maxScroll, 1);
          const translateMain = maxTranslateVW * vw * ratio;

          if (photoAtelier) {
            photoAtelier.style.transform = `translateX(${translateMain}px)`;
          }

          buttons.forEach((el, i) => {
            const delayRatio = 0.98 - i * 0.01;
            const translateChild = maxTranslateVW * vw * ratio * delayRatio;
            el.style.transform = `translateX(${translateChild}px)`;
          });

          ticking = false;
        });

        ticking = true;
      }
    });



          // 비처럼 note 이미지 떨어뜨리기
    const createFallingNote = () => {
      const note = document.createElement("img");
      note.src = "/images/music_note.png"; // 사용 중인 note 이미지 경로
      note.classList.add("note");
      note.style.left = Math.random() * 100 + "vw";
      note.style.animationDuration = (3 + Math.random() * 3) + "s"; // 속도 랜덤

      document.body.appendChild(note);

      // 애니메이션 종료 후 삭제
      setTimeout(() => {
        note.remove();
      }, 6000);
    };

    // 비처럼 떨어지는 노트 주기적으로 생성
    setInterval(createFallingNote, 400); // 밀도 조절 가능 (ms)
  
  });
</script>




</body>
</html>
